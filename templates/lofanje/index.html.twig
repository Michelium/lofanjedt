{% extends 'base.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-12">
            {% if app.user.granted('ROLE_ADMIN') %}
                <button type="button" class="btn btn-outline-success float-end form-modal-button" data-bs-toggle="modal" data-bs-target="#formModal" data-id="0">new entry</button>
            {% endif %}
            <h3>oi lofanje gambinosteda resjape</h3>
        </div>
    </div>
    <hr>
    <table class="table table-responsive-md table-hover table-striped DataTable" id="entries">
        <thead>
        <tr>
            <th>category</th>
            <th>base form</th>
            <th>base form IPA</th>
            <th>equivalent(s) in English</th>
            <th>definition in English</th>
            <th>equivalent(s) in other language(s)</th>
            {% if app.user.granted('ROLE_ADMIN') %}
                <th></th>
            {% endif %}
        </tr>
        </thead>
        <tbody>
        {% for entry in entries %}
            <tr>
                <td>{{ entry.category }}</td>
                <td>{{ entry.baseForm }}</td>
                <td>{{ entry.baseFormIpa }}</td>
                <td>{{ entry.equivalentEnglish }}</td>
                <td>{{ entry.definitionEnglish }}</td>
                <td>{{ entry.equivalentOtherLanguages }}</td>
                {% if app.user.granted('ROLE_ADMIN') %}
                    <td>
                        <button type="button" class="btn btn-outline-light btn-sm form-modal-button" data-bs-toggle="modal" data-bs-target="#formModal" data-id="{{ entry.id }}">update</button>
                        <a href="{{ path('entry_delete', {'id': entry.id}) }}" onclick="return confirm('are you sure?')" type="button" class="btn btn-outline-danger btn-sm">delete</a>
                    </td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {% include 'lofanje/modal.html.twig' %}

{% endblock %}
